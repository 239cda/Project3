<html>
<head>
<meta charset="utf-8">
<title>Project 3</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.min.js" charset="utf-8"></script>

<style type="text/css">
text { 
			font-family: Arial; 
			font-size: 15px;
		}
		.axis path, .axis line {
			fill: none;
			stroke: black;
			shape-rendering: crispEdges;
		}
		.tick text {
			fill: black;
			font-size: 11px;
		}
		  .lines {
            stroke: black;
        }
.menu{
	cursor:pointer;
	position: absolute;
	top : 50px;
	font-size: 18px;
}
.submenu{
	cursor:pointer;
	position: absolute;
	top : 52px;
	font-size: 13px;
}
</style>
</head>
<text class="pageTitle" id="pageTitle" style="font-size: 25px;position: absolute; left: 350px; top: 10px;" >Responder Highest Degree with Other Variables</text>
<a href= "https://239cda.github.io/home.html"text class="menu" style="positon:absolute; left: 350px;">Back to Top</text></a>
<text class="menu" onclick ="" style="positon:absolute; left: 500px;">Explore</text>
<a href= "https://239cda.github.io/timechart.html" text class="submenu" style="positon:absolute; left: 650px;">By Time</text></a>
<a href= "https://239cda.github.io/scatter.html"text class="submenu" style="positon:absolute; left: 750px;">By Variables</text></a>
<text class="submenu" style="positon:absolute; left: 850px;">By Detail</text>

<body>
<script>
//load data file
//select 100 rows, based on random numbers generated by code --> and maybe save it somewhere else. 
//first of all, load file with columns related to income
//check year column, and based on that column, save data into separate arrays. 

//var familyIncome16 = [];
var dataset = [];
var datasetP = [];	
var years = [1972, 1976, 1980, 1984, 1988, 1993, 1996, 2000, 2004, 2006, 2010, 2014];
//max value of income2000Max
var income2000 = [];

var svgW = 200;
var svgH = 300;
var chartW = 100;
var chartH = 100;

var padding = 15;
var opacity = 0.05;

Papa.parse('TotalData150P.csv', {
			download: true,
			header: true,
			dynamicTyping: true,
			complete: function(results) 
			{
				// loop through all the rows in file
				//at the same time, use if statement to save only income data and so on
				for (var i=0; i < results.data.length; i++)
				{
					var record = results.data[i];
					var income16Array = {
					    name: record.ID,
						year: record.YEAR,
						//rowNum : rowNumber[i],
						income16: record.INCOM16,
						incomeNumber2000: record.CONINC,
						incomeNumber2000Pro: 0,
						degreeMe: record.DEGREE,
						degreeP: record.PADEG,
						degreeM: record.MADEG,
						degreeS: record.SPDEG,
						momWorked: record.MAWRKGRW,
						womenWorking: record.FEFAM,
						workingMother : record.FECHLD,
						confidencePress: record.CONPRESS,
						confidenceLaw: record.CONJUDGE,
						confidenceCongress: record.CONLEGIS,
						isGod: record.GOD,
						isHappy:record.HAPPY,
						environment:record.NATENVIY,
						equalW: record.EQWLTH,
						abortion:record.ABANY,
						cap: record.CAPPUN,
						whereLived16: record.RES16,
						educationImprove: record.NATEDUCY
					}
					dataset[i] = income16Array;
					income2000[i] = income16Array.incomeNumber2000;
				}

				income2000Max(dataset);
				datasetSub(dataset, 2014)
				drawCircle(dataset, 2014);
				drawCircle2(dataset, 11);
				drawCircle3(dataset, 11);
				drawCircle4(dataset, 11);
				drawCircle5(dataset, 11);
				drawCircle6(dataset, 11);
				drawCircle7(dataset, 11);
				drawCircle8(dataset, 11);
				drawCircle9(dataset, 11);
				drawCircle10(dataset, 11);
				drawCircle11(dataset, 11);
				drawCircle12(dataset, 11);
				drawCircle13(dataset, 11);
				drawCircle14(dataset, 11);
				drawCircle15(dataset, 11);
				drawCircle16(dataset, 11);

				
				
				
			}//has to insert number in number row aarray
})
//----------------data load ends here--------------------

//then call data from such arrays and draw circles
//give physical movements
//the arrow is shining + changing in size
//upon clicking the arrow, draw same circles and they move to adjust
function drawCircle(dataset, year) {


var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([0, 4])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.degreeMe;
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)		
	.attr("class", "dots")	
	.attr("transform", "translate(0, 100)")

svg.append("text")
	.attr("class", "chartLabel")
	.text("Father highest degree")
	.attr("x", 0)
	.attr("y", chartH + 30)
.attr("transform", "translate(0, 100)")

}
function drawCircle2(dataset, year) {


var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([0, 4])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.degreeP;
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", .05)	
		.attr("class", "dots")
			.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)		
	.attr("class", "dots")	
	.attr("transform", "translate(0, 100)")

svg.append("text")
	.attr("class", "chartLabel")
	.text("Responder highest degree")
	.attr("x", 0)
	.attr("y", chartH + 30)
.attr("transform", "translate(0, 100)")
}
function drawCircle3(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([0, 4])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.degreeM;
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", .05)	
		.attr("class", "dots")
			.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)		
	.attr("class", "dots")	
	.attr("transform", "translate(0, 100)")

svg.append("text")
	.attr("class", "chartLabel")
	.text("Mother highest degree")
	.attr("x", 0)
	.attr("y", chartH + 30)
.attr("transform", "translate(0, 100)")
}
function drawCircle4(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([0, 4])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.degreeS;
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)				
	.attr("class", "dots")

	.attr("transform", "translate(0, 100)")

svg.append("text")
	.attr("class", "chartLabel")
	.text("Spouse highest degree")
	.attr("x", 0)
	.attr("y", chartH + 30)
.attr("transform", "translate(0, 100)")
	
	
	
}			
function drawCircle5(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 5])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.income16;
		if (result < 6) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)	
	.attr("class", "dots")	
	

	.attr("transform", "translate(0, 100)")

svg.append("text")
	.attr("class", "chartLabel")
	.text("Family income at 16")
	.attr("x", 0)
	.attr("y", chartH + 30)
.attr("transform", "translate(0, 100)")
}
function drawCircle6(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 5])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.incomeNumber2000Pro;
		if (result < 6) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)		
		.attr("class", "dots")
		

	.attr("transform", "translate(0, 100)")

svg.append("text")
	.attr("class", "chartLabel")
	.text("Current income")
	.attr("x", 0)
	.attr("y", chartH + 30)
.attr("transform", "translate(0, 100)")	
		
}
function drawCircle7(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 6])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.whereLived16;
		if (result < 7) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)	
	.attr("class", "dots")	
	//.attr("transform", "translate(0, 100)")

svg.append("text")
	.attr("class", "chartLabel")
	.text("Place lived at 16 ")
	.attr("x", 0)
	.attr("y", chartH + 30)
//.attr("transform", "translate(0, 100)")
svg.append("text")
	.attr("class", "chartLabel")
	.text("(from rural area to big city)")
	.attr("x", 0)
	.attr("y", chartH + 50)
//.attr("transform", "translate(0, 100)")
	
}
function drawCircle8(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 4])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = Math.abs(d.womenWorking - 5);
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")


svg.append("text")
	.attr("class", "chartLabel")
	.text("Traditional gender role")
	.attr("x", 0)
	.attr("y", chartH + 30)

}
function drawCircle9(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 4])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = Math.abs(d.workingMother - 5);
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
	.attr("class", "dots")	

svg.append("text")
	.attr("class", "chartLabel")
	.text("Working mother")
	.attr("x", 0)
	.attr("y", chartH + 30)

	
}
function drawCircle10(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 3])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = Math.abs(d.confidencePress -4);
		//console.log(result)
		if (result < 5) {
			return xScale(result)
		}
		else if(result < 0)
		{return 500;}	
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Confidence in press")
	.attr("x", 0)
	.attr("y", chartH + 30)
		
}
function drawCircle11(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 3])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = Math.abs(d.confidenceLaw - 4);
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Confidence in law")
	.attr("x", 0)
	.attr("y", chartH + 30)
}
function drawCircle12(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 3])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = Math.abs(d.confidenceCongress -4);
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Confidence in congress")
	.attr("x", 0)
	.attr("y", chartH + 30)
}
function drawCircle13(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 3])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.environment;
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Gov. spending on environment")
	.attr("x", 0)
	.attr("y", chartH + 30)
}
function drawCircle14(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 3])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.educationImprove;
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Gov. spending on education")
	.attr("x", 0)
	.attr("y", chartH + 30)
}
function drawCircle15(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 7])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = Math.abs(d.equalW - 8);
		if (result < 8) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")
	.attr("tranform", "translate(0,-200)")	
		
		
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Gov. should reduce income gap")
	.attr("x", 0)
	.attr("y", chartH + 30)
		.attr("tranform", "translate(0,-200)")	

}
function drawCircle15(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 6])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = d.isGod;
		if (result < 7) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Belief in God")
	.attr("x", 0)
	.attr("y", chartH + 30)
}
function drawCircle16(dataset, year) {

var yScale = d3.scale.linear()
				.domain([0, 4])
				.range([chartH , padding]);
var xScale = d3.scale.linear()
				.domain([1, 4])
				.range([padding, chartW]);

	var svg = d3.select("body")
            .append("svg")
            .attr("width", svgW)
            .attr("height", svgH)
			
	var circle1 = svg.selectAll("circle") 
	.data(datasetP)
	.enter()
	.append("circle")	
	.attr("cx", function(d){ 
		var result = Math.abs(d.isHappy - 4);
		if (result < 5) {
			return xScale(result)
		}
		else {return 500;}
		
    })
	.attr("cy", function(d) {
	var result = d.degreeP;
	//y value is mother's education level for every chart
		if (result <5 ) {
		return yScale(result)}
		else {return 500;}
})
	.attr("r", 10) 
	.attr("fill", "#b20062")
	.style("fill-opacity", opacity)
		.attr("class", "dots")
	svg.append("text")
	.attr("class", "chartLabel")
	.text("Happiness")
	.attr("x", 0)
	.attr("y", chartH + 30)
}

function income2000Max(familyIncome16From0)  {
	var level = Math.floor(d3.max(income2000)) / 5;
	for (i=0;i<familyIncome16From0.length;i++){
		if (familyIncome16From0[i].incomeNumber2000 < level){familyIncome16From0[i].incomeNumber2000Pro = 1}
		else if (familyIncome16From0[i].incomeNumber2000 < level * 2){familyIncome16From0[i].incomeNumber2000Pro =  2}
		else if (familyIncome16From0[i].incomeNumber2000 < level * 3){familyIncome16From0[i].incomeNumber2000Pro =  3}
		else if (familyIncome16From0[i].incomeNumber2000 < level * 4){familyIncome16From0[i].incomeNumber2000Pro =  4}
		else if (familyIncome16From0[i].incomeNumber2000 >= level * 4){familyIncome16From0[i].incomeNumber2000Pro = 5}
	} 
	
}
function datasetSub(dataset, year) {			
	for (i=0;i<dataset.length;i++){
	if(dataset[i].year == year) {
	datasetP.push(dataset[i]);
	//when changing year, refresh this dataset
	}
}
}


</script>
</body>

</html>
